$(function(){function t(t){n.html(t).slideDown("fast")}var e,n=$("#facility-contact-form").find(".status");$.fn.setFocus=function(){return $("#facility-contact-form").focus().addClass("error-focus")},$("#facility-contact-form").on("submit",function(o){o.preventDefault(),e&&e.abort();var a=$(this),i=a.find("#name"),r=a.find("#email"),s=a.find("input, select, button, textarea"),c=a.find('input[type="text"], input[type="radio"], input[type="checkbox"]'),u=a.serialize();n.hide(),s.prop("disabled",!0),s.removeClass("error-focus"),""==i.val()?(t("Please enter your name(s) then try again."),i.setFocus()):""==r.val()?(t("Please enter your email address."),r.setFocus()):t("Please wait..."),(e=$.ajax({url:a.attr("action"),type:a.attr("method"),data:u})).done(function(e,n,o){t("Thanks, someone will be in contact with you regarding your enquiry soon."),c.val("")}),e.fail(function(e,n,o){t("Oops, something went wrong - message not sent"),console.error("The following error occurred: "+n,o)}),e.always(function(){s.prop("disabled",!1)})})});